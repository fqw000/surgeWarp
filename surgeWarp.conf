[General]
# > 测试超时（秒）
test-timeout = 2
# > 国内 测试 URL
internet-test-url = http://www.baidu.com
# > 代理测速 URL
proxy-test-url = http://cp.cloudflare.com/generate_204
# > 自定义 GeoIP 数据库
geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
# > IPv6 支持（默认关闭）
ipv6 = false
# > 允许 Wi-Fi 访问 (仅 iOS，若允许远程访问将「false」改为「true」)
allow-wifi-access = false
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
# 热点共享
allow-hotspot-access = false
# > 增强版 Wi-Fi 助理
wifi-assist = true
# > 远程控制器
http-api-web-dashboard = false
# > 兼容模式 (仅 iOS)
# compatibility-mode = 0
# > 跳过代理
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 17.0.0.0/8, localhost, *.local, *.crashlytics.com
# > 排除简单主机名
exclude-simple-hostnames = true
# > DNS 服务器
dns-server = 192.9.187.232
# > 从 /etc/hosts 读取 DNS 记录
read-etc-hosts = true
# > 日志级别
loglevel = notify
# > 当遇到 REJECT 策略时返回错误页
show-error-page-for-reject = true
# > Always Real IP Hosts
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com
# > VIF Excluded Routes
# tun-excluded-routes = 239.255.255.250/32
# 如果没有代理服务器支持 UDP 转发，可修改为「 direct 」或注释下条，但需注意同一目标主机名 TCP 请求与 UDP 请求的源地址不同所造成的隐私及安全风险。
udp-policy-not-supported-behaviour = reject
ipv6-vif = auto
# 解决telegram有时间转圈
always-raw-tcp-hosts = www.google.com, 91.108.*, 5.28.195.*, 149.154.1*, 185.76.151.*, 91.105.1*
compatibility-mode = 1

[Proxy]
🇳🇱 nl-cf-warp-1 = wireguard, section-name=W8ZY0O7E
🇺🇸 us-cf-warp-2 = wireguard, section-name=BO9AFUJ5
🇳🇱 nl-cf-warp-3 = wireguard, section-name=M451XATY
🇳🇱 nl-cf-warp-4 = wireguard, section-name=45U1C3MW
🇳🇱 nl-cf-warp-5 = wireguard, section-name=KWVYN8GD
🇳🇱 nl-cf-warp-6 = wireguard, section-name=QV8AKI6C
🇺🇸 us-cf-warp-7 = wireguard, section-name=R3CWEUDH
🇳🇱 nl-cf-warp-8 = wireguard, section-name=ZJYU5B4K
🇺🇸 us-cf-warp-9 = wireguard, section-name=TXDO74YK
🇳🇱 nl-cf-warp-10 = wireguard, section-name=WT3KXFON

[WireGuard W8ZY0O7E]
self-ip = 172.16.0.2
private-key = SGLuWQWYQAcfzSqbNEwChIBjnqQahZdSsORm752/Nns=
dns-server = 1.1.1.1
mtu = 1420
peer = (public-key = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, allowed-ips = "0.0.0.0/0, ::/0", endpoint = 188.114.97.228:3854)

[WireGuard BO9AFUJ5]
self-ip = 172.16.0.2
private-key = SGLuWQWYQAcfzSqbNEwChIBjnqQahZdSsORm752/Nns=
dns-server = 1.1.1.1
mtu = 1420
peer = (public-key = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, allowed-ips = "0.0.0.0/0, ::/0", endpoint = 162.159.195.166:8886)

[WireGuard M451XATY]
self-ip = 172.16.0.2
private-key = SGLuWQWYQAcfzSqbNEwChIBjnqQahZdSsORm752/Nns=
dns-server = 1.1.1.1
mtu = 1420
peer = (public-key = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, allowed-ips = "0.0.0.0/0, ::/0", endpoint = 188.114.99.8:8886)

[WireGuard 45U1C3MW]
self-ip = 172.16.0.2
private-key = SGLuWQWYQAcfzSqbNEwChIBjnqQahZdSsORm752/Nns=
dns-server = 1.1.1.1
mtu = 1420
peer = (public-key = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, allowed-ips = "0.0.0.0/0, ::/0", endpoint = 188.114.98.68:8886)

[WireGuard KWVYN8GD]
self-ip = 172.16.0.2
private-key = SGLuWQWYQAcfzSqbNEwChIBjnqQahZdSsORm752/Nns=
dns-server = 1.1.1.1
mtu = 1420
peer = (public-key = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, allowed-ips = "0.0.0.0/0, ::/0", endpoint = 188.114.97.34:3854)

[WireGuard QV8AKI6C]
self-ip = 172.16.0.2
private-key = SGLuWQWYQAcfzSqbNEwChIBjnqQahZdSsORm752/Nns=
dns-server = 1.1.1.1
mtu = 1420
peer = (public-key = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, allowed-ips = "0.0.0.0/0, ::/0", endpoint = 188.114.96.211:8886)

[WireGuard R3CWEUDH]
self-ip = 172.16.0.2
private-key = SGLuWQWYQAcfzSqbNEwChIBjnqQahZdSsORm752/Nns=
dns-server = 1.1.1.1
mtu = 1420
peer = (public-key = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, allowed-ips = "0.0.0.0/0, ::/0", endpoint = 162.159.195.176:3854)

[WireGuard ZJYU5B4K]
self-ip = 172.16.0.2
private-key = SGLuWQWYQAcfzSqbNEwChIBjnqQahZdSsORm752/Nns=
dns-server = 1.1.1.1
mtu = 1420
peer = (public-key = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, allowed-ips = "0.0.0.0/0, ::/0", endpoint = 188.114.97.7:3854)

[WireGuard TXDO74YK]
self-ip = 172.16.0.2
private-key = SGLuWQWYQAcfzSqbNEwChIBjnqQahZdSsORm752/Nns=
dns-server = 1.1.1.1
mtu = 1420
peer = (public-key = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, allowed-ips = "0.0.0.0/0, ::/0", endpoint = 162.159.192.196:8886)

[WireGuard WT3KXFON]
self-ip = 172.16.0.2
private-key = SGLuWQWYQAcfzSqbNEwChIBjnqQahZdSsORm752/Nns=
dns-server = 1.1.1.1
mtu = 1420
peer = (public-key = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, allowed-ips = "0.0.0.0/0, ::/0", endpoint = 188.114.97.90:3854)



[Proxy Group]
Proxy = subnet, default = ProxySelect, "SSID:Leon-3.4G" = DIRECT
ProxySelect = select, Auto, Auto2, policy-path=https://raw.githubusercontent.com/fqw000/apkandipa/main/ipa/surge.list, update-interval=-1, no-alert=0, hidden=0, includ-all-proxies=1, include-all-proxies=1
Auto2 = url-test, update-interval=0, no-alert=0, hidden=0, include-all-proxies=1, policy-path=https://subs.zeabur.app/surge
Auto = url-test, policy-path=https://raw.githubusercontent.com/fqw000/apkandipa/main/ipa/surge.list, update-interval=0, no-alert=0, hidden=0, include-all-proxies=1
Spotify = select, DIRECT, Proxy
Bing = select, Proxy, DIRECT
Telegram = select, Proxy, DIRECT
NoAd = select, REJECT, DIRECT, no-alert=0, hidden=0, include-all-proxies=0
Final = select, DIRECT, Proxy

[Rule]
DOMAIN,spclient.wg.spotify.com,DIRECT // Added for: https://spclient.wg.spotify.com/quicksilver/v2/triggers?ctv_type=cards&ctv_type=banners&ctv_type=notes&trig_type=URI&trig_type=PLAYBACK_STARTED&trig_type=CLIENT_EVENT
DOMAIN,gae2-spclient.spotify.com,DIRECT // Added for: gae2-spclient.spotify.com:443
DOMAIN,spclient.wg.spotify.com,Proxy // Added for: https://spclient.wg.spotify.com/gabo-receiver-service/v3/events
DOMAIN-SUFFIX,login5.spotify.com,Proxy // Added for: login5.spotify.com:443
DOMAIN,surge-activation.com,REJECT
DOMAIN-SUFFIX,spotifycdn.com,Proxy // Added for: seed-mix-image.spotifycdn.com:443
# DOMAIN,login5.spotify.com,Proxy // Added for: login5.spotify.com:443
RULE-SET,https://raw.githubusercontent.com/fqw000/tools/main/rule/reject.list,REJECT,update-interval=-1
RULE-SET,https://limbopro.com/Adblock4limbo_surge.list,NoAd
AND,((PROTOCOL,UDP), (DEST-PORT,443)),REJECT-NO-DROP
# 规则修正
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list,DIRECT
# 隐私
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list,REJECT
# 运营商劫持或恶意网站
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list,REJECT
RULE-SET,https://raw.githubusercontent.com/limbopro/Adblock4limbo/main/Adblock4limbo_surge.list,NoAd
# 手工规则加在这里，但不建议，建议写成订阅规则
# --------广告拦截----------
# >域名、IP 去广告
RULE-SET,https://raw.githubusercontent.com/fqw000/tools/main/rule/liby.list,NoAd
# >MTM正则表达去广告
RULE-SET,https://raw.githubusercontent.com/fqw000/tools/main/rule/mitmregex.list,NoAd
# >自定义去广告
# RULE-SET,https://raw.githubusercontent.com/fqw000/tools/main/rule/reject.list,NoAd
# >广告拦截
RULE-SET,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Reject.list,NoAd
# 》〉目前试用GFWLIST走代理，final走直连。国内规则和国际直链规则全部剔除了。
# asn 比geoip更加精准，但也存在一些识别的问题。
# https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.China.list,DIRECT
# 防止应用循环请求
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Lan/Lan.list,DIRECT
# 腾讯 WeChat
RULE-SET,https://github.com/NobyDa/Script/raw/master/Surge/WeChat.list,DIRECT,update-interval=-1
# --------APP分流----------
# >Spotify规则
RULE-SET,https://raw.githubusercontent.com/fqw000/tools/main/rule/spotify.list,Spotify
# >Telegram规则
RULE-SET,https://raw.githubusercontent.com/fqw000/tools/main/rule/telegram.list,Telegram
# >Bing规则
RULE-SET,https://raw.githubusercontent.com/fqw000/tools/main/rule/bing.list,Bing
# --------代理规则----------
# 自定义走代理
RULE-SET,https://raw.githubusercontent.com/fqw000/tools/main/rule/proxy.list,Proxy
# GFW修改规则
# 代理
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Proxy/Proxy.list,Proxy
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Proxy/Proxy_Domain.list,Proxy
# openai
RULE-SET,https://raw.githubusercontent.com/fqw000/tools/main/rule/openai.list,Proxy
# > DOH DIRECT
PROTOCOL,DOH,DIRECT
# > Surge 的自动 REJECT 保护丢包，防止应用循环请求
IP-CIDR,0.0.0.0/32,REJECT,no-resolve
# 以下规则将触发本地 DNS 解析
RULE-SET,LAN,DIRECT
GEOIP,CN,DIRECT
FINAL,Final,dns-failed

[Host]
# 微信
# *.tencent.com = 119.29.29.29
# *.qq.com = 119.29.29.29
*.weixin.com = 119.29.29.29
# Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188
# Apple TestFlight
*testflight.apple.com = server:8.8.4.4

[URL Rewrite]
^https?://iadmusicmat.music.126.net/.+.jpg - reject
^http://interface.music.163.com/eapi/ad/config/get - reject
^https?://m.ads.8le8le.com/adShow - reject
^https?:\/\/\S*([\.\/])(ad|ads|AD|ADS|advert|ad-logic|Advert|ad-pattern|adlist|adlists|ad-list|adview|adsview|guanggao)([\.\/])\S* - reject
^https?:\/\/(www\.)?g\.cn https://www.google.com 302
^https?:\/\/(www\.)?google\.cn https://www.google.com 302

[MITM]
skip-server-cert-verify = true
tcp-connection = true
h2 = true
hostname = i.weread.qq.com, https://a.weilai555.com:1000, *, spclient.wg.spotify.com, www.google.cn
hostname-disabled = *
ca-passphrase = F1DDC204
ca-p12 = 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

[Script]
# 微信读书 = type=http-request,pattern=^https:\/\/i\.weread\.qq\.com\/pay\/memberCardSummary,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/89996462/Quantumult-X/main/ycdz/txwxds.js,script-update-interval=0
555 = type=http-response,pattern=^https?:\/\/[^/]+\/api\/v\d\/movie\/index_recommend\?pack=[^&]+&signature=.+$,requires-body=1,max-size=0,script-path=https://github.com/ddgksf2013/Scripts/raw/master/555Ad.js,script-update-interval=604800
# 注意修改appid和key
# spotify歌词翻译2.0 = type=http-response,pattern=^https:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/,requires-body=1,binary-body-mode=1,max-size=0,script-path=https://raw.githubusercontent.com/app2smile/rules/master/js/spotify-lyric.js,argument=appid=&securitykey,script-update-interval=0,debug=1
# spotify歌词翻译1.0 = type=http-response,pattern=^https:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/,requires-body=1,binary-body-mode=1,max-size=0,script-path=https://raw.githubusercontent.com/fqw000/tools/main/script/spotifyLyricBak.js,argument=appid=&securitykey=,script-update-interval=-1,debug=1

[Panel]
Neteasy = title=Neteasy,content=合理翻墙，合法上网,style=good

